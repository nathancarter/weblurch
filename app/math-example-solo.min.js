(function(){var e,t,n,r,a=[].slice;setAppName("MathApp"),addHelpMenuSourceCodeLink("app/math-example-solo.litcoffee"),window.helpAboutText="See the fully documented source code for this demo app at the following URL:\n \nhttps://github.com/nathancarter/weblurch/blob/master/app/math-example-solo.litcoffee",window.groupTypes=[{name:"me",text:"Mathematical Expression",tooltip:"Make the selection a mathematical expression",color:"#666699",imageHTML:'<font color="#666699"><b>[ ]</b></font>',openImageHTML:'<font color="#666699"><b>[</b></font>',closeImageHTML:'<font color="#666699"><b>]</b></font>',contentsChanged:function(e,n){var r;return r=t(e),r instanceof window.OMNode&&(r=function(){switch(r.type){case"i":return"integer";case"f":return"float";case"st":return"string";case"ba":return"byte array";case"sy":return"symbol";case"v":return"variable";case"a":switch(r.children[0].simpleEncode()){case"arith1.plus":case"arith1.sum":return"sum";case"arith1.minus":return"difference";case"arith1.plusminus":return"sum/difference";case"arith1.times":return"product";case"arith1.divide":return"quotient";case"arith1.power":return"exponentiation";case"arith1.root":return"radical";case"arith1.abs":return"absolute value";case"arith1.unary_minus":return"negation";case"relation1.eq":return"equation";case"relation1.approx":return"approximation";case"relation1.neq":return"negated equation";case"relation1.lt":case"relation1.le":case"relation1.gt":case"relation1.ge":return"inequality";case"logic1.not":return"negated sentence";case"calculus1.int":return"indefinite integral";case"calculus1.defint":return"definite integral";case"transc1.sin":case"transc1.cos":case"transc1.tan":case"transc1.cot":case"transc1.sec":case"transc1.csc":return"trigonometric function";case"transc1.arcsin":case"transc1.arccos":case"transc1.arctan":case"transc1.arccot":case"transc1.arcsec":case"transc1.arccsc":return"inverse trigonometric function";case"overarc":return"overarc";case"overline":return"overline";case"d.diff":return"differential";case"interval1.interval_oo":case"interval1.interval_oc":case"interval1.interval_co":case"interval1.interval_cc":return"interval";case"integer1.factorial":return"factorial";case"limit1.limit":return"limit"}break;case"b":return"lambda closure"}}()),e.set("tag",r)},tagContents:function(e){return e.get("tag")},tagMenuItems:function(e){return n(e)},contextMenuItems:function(e){return n(e)}}],t=function(e){var t,n,r,a,c,s,u,o;if(a=$(e.contentNodes()),s=".mathquill-rendered-math",a=a.find(s).add(a.filter(s)),n=null,0===a.length)return"add math using the f(x) button";if(a.length>1)return"more than one math expression";r=a.get(0);try{u=window.mathQuillToMeaning(r)}catch(i){return t=i,"Error converting math expression to text: "+(null!=t?t.message:void 0)}try{c=null!=(o=mathQuillParser.parse(u))?o[0]:void 0}catch(i){return t=i,"Error parsing math expression as text: "+(null!=t?t.message:void 0)}return c instanceof window.OMNode?c:"Could not parse this mathematical text: "+(null!=u&&"function"==typeof u.join?u.join(" "):void 0)+" -- Error: "+c},n=function(n){return[{text:"See full OpenMath structure",onclick:function(){var e,a,c,s;if(!((a=t(n))instanceof OMNode))return alert("Could not understand the bubble contents:\n "+a);try{return alert(null!=(c=r(a))?c:"Some part of that expression is not supported in this demo for conversion to XML.")}catch(u){return e=u,alert(null!=(s=e.message)?s:e)}}},{text:"Evaluate this",onclick:function(){var r,a;return(r=t(n))instanceof OMNode?(a=e(r),r=""+a.value,null!=a.message&&(r+="\n\nNote:\n"+a.message)):r="Could not understand the bubble contents:\n "+r,alert(r)}}]},r=function(e){var t,n,a,c,s,u,o,i;switch(c=function(e){return"  "+e.replace(RegExp("\n","g"),"\n  ")},e.type){case"i":return"<OMI>"+e.value+"</OMI>";case"sy":return'<OMS cd="'+e.cd+'" name="'+e.name+'"/>';case"v":return'<OMV name="'+e.name+'"/>';case"f":return'<OMF dec="'+e.value+'"/>';case"st":return u=e.value.replace(/\&/g,"&amp;").replace(/</g,"&lt;"),"<OMSTR>"+u+"</OMSTR>";case"a":return s=function(){var t,a,s,u;for(s=e.children,u=[],t=0,a=s.length;a>t;t++)n=s[t],u.push(c(r(n)));return u}().join("\n"),"<OMA>\n"+s+"\n</OMA>";case"bi":return a=c(r(e.symbol)),i=function(){var t,n,a,c;for(a=e.variables,c=[],t=0,n=a.length;n>t;t++)o=a[t],c.push(r(o));return c}().join(""),i=c("<OMBVAR>"+i+"</OMBVAR>"),t=c(r(e.body)),"<OMBIND>\n"+a+"\n"+i+"\n"+t+"\n</OMBIND>";default:throw"Cannot convert this to XML: "+e.simpleEncode()}},e=function(t){var n,r,c;return n=function(){var n,r,c,s,u,o,i,l,h,f;for(s=arguments[0],o=2<=arguments.length?a.call(arguments,1):[],i=void 0,r=[],h=0,f=o.length;f>h;h++){if(u=o[h],n=e(t.children[u]),null==n.value)return n;null!=n.message&&(null==i?i="":i+="\n",i+=n.message),r.push(n.value)}try{l=s.apply(null,r)}catch(m){c=m,null==i?i="":i+="\n",i+=c.message}return{value:l,message:i}},r=function(){switch(t.type){case"i":case"f":case"st":case"ba":return{value:t.value};case"v":switch(t.name){case"π":return{value:Math.PI,message:"The actual value of π has been rounded."};case"e":return{value:Math.exp(1),message:"The actual value of e has been rounded."}}break;case"sy":switch(t.simpleEncode()){case"units.degrees":return{value:Math.PI/180};case"units.percent":return{value:.01};case"units.dollars":return{value:1,message:"Dollar units were dropped"}}break;case"a":switch(t.children[0].simpleEncode()){case"arith1.plus":return n(function(e,t){return e+t},1,2);case"arith1.minus":return n(function(e,t){return e-t},1,2);case"arith1.times":return n(function(e,t){return e*t},1,2);case"arith1.divide":return n(function(e,t){return e/t},1,2);case"arith1.power":return n(Math.pow,1,2);case"arith1.root":return n(function(e,t){return Math.pow(t,1/e)},1,2);case"arith1.abs":return n(Math.abs,1);case"arith1.unary_minus":return n(function(e){return-e},1);case"relation1.eq":return n(function(e,t){return e===t},1,2);case"relation1.approx":return c=n(function(e,t){return Math.abs(e-t)<.01},1,2),(null!=c.message?c.message:c.message="").length&&(c.message+="\n"),c.message+="Values were rounded to two decimal places for approximate comparison.",c;case"relation1.neq":return n(function(e,t){return e!==t},1,2);case"relation1.lt":return n(function(e,t){return t>e},1,2);case"relation1.gt":return n(function(e,t){return e>t},1,2);case"relation1.le":return n(function(e,t){return t>=e},1,2);case"relation1.ge":return n(function(e,t){return e>=t},1,2);case"logic1.not":return n(function(e){return!e},1);case"transc1.sin":return n(Math.sin,1);case"transc1.cos":return n(Math.cos,1);case"transc1.tan":return n(Math.tan,1);case"transc1.cot":return n(function(e){return 1/Math.tan(e)},1);case"transc1.sec":return n(function(e){return 1/Math.cos(e)},1);case"transc1.csc":return n(function(e){return 1/Math.sin(e)},1);case"transc1.arcsin":return n(Math.asin,1);case"transc1.arccos":return n(Math.acos,1);case"transc1.arctan":return n(Math.atan,1);case"transc1.arccot":return n(function(e){return Math.atan(1/e)},1);case"transc1.arcsec":return n(function(e){return Math.acos(1/e)},1);case"transc1.arccsc":return n(function(e){return Math.asin(1/e)},1);case"transc1.ln":return n(Math.log,1);case"transc1.log":return n(function(e,t){return Math.log(t)/Math.log(e)},1,2);case"integer1.factorial":return n(function(e){var t,n,a;if(1>=e)return 1;if(e>=20)return 1/0;for(r=1,t=n=1,a=0|e;a>=1?a>=n:n>=a;t=a>=1?++n:--n)r*=t;return r},1)}}}(),null==r&&(r={value:void 0}),"undefined"==typeof r.value&&(r.message="Could not evaluate "+t.simpleEncode()),r}}).call(this);
//# sourceMappingURL=math-example-solo.min.js.map