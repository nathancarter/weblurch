(function(){var e,n,t,r,o,u,l,a,i=[].indexOf||function(e){for(var n=0,t=this.length;t>n;n++)if(n in this&&this[n]===e)return n;return-1},c=[].slice;u=[],o=function(e,n,t,r,o,u){var l;return e instanceof OM?r instanceof OM?e.encode().localeCompare(r.encode()):-1:r instanceof OM?1:null==n||null==t?e.open===r.open?null==o||null==u?0:1:strictNodeComparator(e.open,r.open):(l=strictNodeComparator(e.open,r.open),0!==l?l:(l=n.localeCompare(o),0!==l?l:t-u))},a=function(e,n){var t,r,u,l,a,i,c,s,f,p,d,g,h,v;return f=[e.source],u=f[0],a=f[1],l=f[2],"number"==typeof u&&(l=u,u=e.target,a="label"),-1===o(u,a,l,e.target)?(p=[u,e.target],t=p[0],c=p[1]):(d=[e.target,u],t=d[0],c=d[1]),g=[n.source],u=g[0],a=g[1],l=g[2],"number"==typeof u&&(l=u,u=n.target,a="label"),-1===o(u,a,l,e.target)?(h=[u,n.target],r=h[0],s=h[1]):(v=[n.target,u],r=v[0],s=v[1]),i=o(c,void 0,void 0,s)||o(t,void 0,void 0,r)},t=function(){return u=[]},window.afterEditorReadyArray.push(function(n){var r;return r=n.LoadSave.loadMetaData,n.LoadSave.loadMetaData=function(o){var u,l,a,i,c;for(t(),c=n.Groups.allGroupers(),a=0,i=c.length;i>a;a++)l=c[a],u=n.Groups.grouperToGroup(l),u.open===l&&"expression"===u.typeName()&&e(u);return r(o)}}),n=function(e){var n,t,r,o;if(0===u.length)return u.push(e);for(n=0,r=u.length;n!==r;){if(t=Math.floor((n+r)/2),o=a(e,u[t]),0===o)return;-1===o?r=t:n=t+1}return n===u.length?u.push(e):u.splice(n,0,e)},e=function(e){var t,r,o,u,l,a,i;if(u=OM.encodeAsIdentifier("label"),t=function(t){var r,o,u,l,a,i,c;for(u="a"===t.type&&t.children[0].equals(Group.prototype.listSymbol)?t.children.slice(1):[t],c=[],r=a=0,i=u.length;i>a;r=++a)o=u[r],c.push((l=o.value)?n({target:e,source:r,label:l}):void 0);return c},e instanceof Group){for(i=e.attributeGroupsForKey("label"),l=0,a=i.length;a>l;l++)r=i[l],0===r.children.length&&n({target:e,source:r,label:r.contentAsText()});if(!(o=e.get(u)))return;if(o=OM.decode(o.m))return t(o)}else if(e instanceof OM&&(o=e.getAttribute(OM.sym("label","Lurch"))))return t(o)},r=function(e){var n;return u=function(){var t,r,o;for(o=[],t=0,r=u.length;r>t;t++)n=u[t],n.source!==e&&n.target!==e&&o.push(n);return o}()},window.afterEditorReadyArray.push(function(n){var t,o;return n.Groups.groupTypes.expression.deleted=function(e){var t,o,u,l,a,i,c,s,f;for(c=e.connectionsOut(),u=0,a=c.length;a>u;u++)t=c[u],o=n.Groups[t[1]],null!=o&&e.disconnect(o);for(s=e.connectionsIn(),l=0,i=s.length;i>l;l++)t=s[l],null!=(f=n.Groups[t[0]])&&f.disconnect(e);return r(e)},t=function(n){return r(n),e(n)},o=function(e,r){var u,l,a,i,c;if(null==r&&(r=!1),r)return setTimeout(o,0,e);if(t(e),"label"===e.get("key")&&(n=e.plugin.editor)){for(i=e.connectionsOut(),c=[],l=0,a=i.length;a>l;l++)u=i[l],c.push(t(n.Groups[u[1]]));return c}},n.Groups.groupTypes.expression.contentsChanged=o,n.on("dependenciesChanged",function(){var t,r,o,l,a,s,f,p,d,g,h;for(l=[],r=[],f=0,d=u.length;d>f;f++)a=u[f],a.target instanceof window.Group?r.push(a.target):l.push(a.label);for(u=r,s=function(n){var t,r,o,u,l,a,i,c,f,p;for(i=n.data,o=0,l=i.length;l>o;o++)t=i[o],e(OM.decode(t));for(f=null!=(c=n.dependencies)?c:[],p=[],u=0,a=f.length;a>u;u++)r=f[u],p.push(s(r));return p},h=n.Dependencies,p=0,g=h.length;g>p;p++)t=h[p],s(t);return o=function(){var e,n,t,r;for(r=[],e=0,n=u.length;n>e;e++)a=u[e],!(a.target instanceof Group)&&(t=a.label,i.call(l,t)<0)&&r.push(a.label);return r}(),n.fire("dependencyLabelsUpdated",{oldAndNewLabels:c.call(l).concat(c.call(o))})})}),window.lookupLabel=function(e,n){var t,r,o,l,a;for(null==n&&(n=null),t=function(e){var t,r;return null==n?!0:e.target instanceof OM?!0:(t=e.target.open,r=e.source instanceof Group?e.source.open:e.target.open,strictNodeOrder(t,n)&&strictNodeOrder(r,n))},a=[],o=0,l=u.length;l>o;o++)r=u[o],r.label===e&&t(r)&&a.push(r);return a},window.lookupLabelsFor=function(e){var n,t,r,o;for(o=[],t=0,r=u.length;r>t;t++)n=u[t],n.target===e&&o.push(n.label);return o},window.labeledTopLevelExpressions=function(){var e,n,t,r;for(r=[],n=0,t=u.length;t>n;n++)e=u[n],e.target instanceof Group&&null==e.target.parent&&r.push(e.target);return r},l=function(){var e,n,t,r;for(e=function(e){return e instanceof Group?""+e.id()+":"+e.contentAsText():e instanceof OM?e.simpleEncode():e},console.log("----------- LABEL PAIRS ---------------"),t=0,r=u.length;r>t;t++)n=u[t],console.log(""+e(n.target)+' <--"'+n.label+'"-- '+e(n.source));return console.log("---------------------------------------")}}).call(this);
//# sourceMappingURL=main-app-group-labels-solo.min.js.map