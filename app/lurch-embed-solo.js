// Generated by CoffeeScript 1.8.0
(function() {
  var __hasProp = {}.hasOwnProperty;

  window.LurchEmbed = {};

  window.LurchEmbed.defaultURL = 'http://nathancarter.github.io/weblurch/app/app.html';

  window.LurchEmbed.makeLive = function(element, attributes, applicationURL) {
    var encoded, key, number, replacement, url, value, _ref;
    if (attributes == null) {
      attributes = {
        width: 800,
        height: 600
      };
    }
    if (applicationURL == null) {
      applicationURL = window.LurchEmbed.defaultURL;
    }
    number = (_ref = element.getAttribute('data-embed-index')) != null ? _ref : '';
    encoded = encodeURIComponent(element.innerHTML);
    url = "" + applicationURL + "?document" + number + "=" + encoded;
    replacement = element.ownerDocument.createElement('iframe');
    replacement.style.border = '1px solid black';
    for (key in attributes) {
      if (!__hasProp.call(attributes, key)) continue;
      value = attributes[key];
      replacement.setAttribute(key, value);
    }
    ($(element)).replaceWith(replacement);
    return replacement.setAttribute('src', url);
  };

  $(window.LurchEmbed.makeAllLive = function() {
    return ($('.lurch-embed')).each(function(index, element) {
      element.setAttribute('data-embed-index', index);
      return window.LurchEmbed.makeLive(element);
    });
  });

}).call(this);

//# sourceMappingURL=lurch-embed-solo.js.map
